(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{143:function(t,e,n){t.exports=n(303)},235:function(t,e,n){},236:function(t,e,n){},303:function(t,e,n){"use strict";n.r(e),n.d(e,"store",(function(){return I}));var a=n(0),i=n.n(a),r=n(135),o=n.n(r),c=(n(235),n(22)),s=n(23),u=n(25),l=n(24),h=(n(236),n(307)),p=n(304),m=n(305),d=n(308),y=n(142),f=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).state={},a.setCityText=function(t){a.setState({city:t.target.value})},a.formSubmit=function(t){console.log(a.state.city),t.preventDefault(),a.props.handleCityChange(a.state.city),a.setState({city:""})},a.state={city:a.props.city},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return i.a.createElement("div",null,i.a.createElement(p.a,{style:{display:"flex",justifyContent:"center"}},i.a.createElement("div",null,i.a.createElement(m.a,{inline:!0,onSubmit:function(e){return t.formSubmit(e)}},i.a.createElement(d.a,{style:{color:"black",backgroundColor:"rgb(230,230,235)"},type:"input",placeholder:"Search for a city",onChange:this.setCityText,value:this.state.city}),i.a.createElement(y.a,{type:"submit",bsStyle:"default",style:{backgroundColor:"rgb(230,230,235)"}},"Search")))))}}]),n}(a.Component),C=n(306),g=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).changeUnit=function(t){a.props.handleChangeUnit(t)},a.state={unit:t.unit},a}return Object(s.a)(n,[{key:"renderUnitButtonStyle",value:function(t){return t===this.props.unit?{backgroundColor:"rgba(230,230,235,0.7)"}:{backgroundColor:"rgb(230,230,235)"}}},{key:"render",value:function(){var t=this;return i.a.createElement(C.a,{style:{padding:"10px"}},i.a.createElement(y.a,{style:this.renderUnitButtonStyle("C"),onClick:function(){return t.changeUnit("C")}},"\xb0C"),i.a.createElement(y.a,{style:this.renderUnitButtonStyle("F"),onClick:function(){return t.changeUnit("F")}},"\xb0F"),i.a.createElement(y.a,{style:this.renderUnitButtonStyle("K"),onClick:function(){return t.changeUnit("K")}},"\xb0K"))}}]),n}(a.Component),v=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(t){var a;return Object(c.a)(this,n),(a=e.call(this,t)).tempInUnit=function(t){switch(a.state.unit){case"C":return Math.round(100*(t-273.15))/100;case"F":return Math.round(100*(t-273.15))/100*9/5+32;default:return t}},a.onChangeUnit=function(t){a.setState({unit:t})},a.state={city:t.city,unit:"C"},a}return Object(s.a)(n,[{key:"render",value:function(){var t=this;return i.a.createElement(h.a,{style:{backgroundColor:"#73d93d"}},i.a.createElement(f,{handleCityChange:function(e){return t.props.handleCityChange(e)}}),i.a.createElement(p.a,{style:{display:"flex",justifyContent:"center"}},i.a.createElement("div",null,i.a.createElement(g,{handleChangeUnit:function(e){t.onChangeUnit(e)},unit:this.state.unit}))),i.a.createElement("h2",null,this.props.city),i.a.createElement("img",{src:"https://openweathermap.org/img/wn/".concat(this.props.iconId,"@2x.png"),alt:this.state.description}),i.a.createElement("h1",null,this.tempInUnit(this.props.temp),"\xb0",this.state.unit," "),i.a.createElement("h4",null,"Max. ",this.tempInUnit(this.props.max),"\xb0",this.state.unit," ",i.a.createElement("b",null,"|")," Min"," ",this.tempInUnit(this.props.min),"\xb0",this.state.unit),i.a.createElement("h4",{style:{textTransform:"capitalize"}},this.props.description))}}]),n}(a.Component),b=n(141),E=n.n(b),j=n(49),k=n(33);var O=function(t){Object(u.a)(n,t);var e=Object(l.a)(n);function n(){var t;return Object(c.a)(this,n),(t=e.call(this)).state={city:"Pune",temp:void 0,max:void 0,min:void 0,description:"",unit:"C"},t}return Object(s.a)(n,[{key:"updateWeatherData",value:function(t){var e=this;E.a.get("https://api.openweathermap.org/data/2.5/weather?q=".concat(t,"&appid=67cc74cb53c23e2a0ffbdb4a3a82d610")).then((function(t){var n=t.data;e.setState({city:n.name,temp:Math.floor(n.main.temp),max:Math.floor(n.main.temp_max),min:Math.floor(n.main.temp_min),description:n.weather[0].description,iconId:n.weather[0].icon}),console.log(e.state),e.props.handleCityChange(e.state)})).catch((function(t){return console.log(t)})).finally()}},{key:"componentDidMount",value:function(){this.updateWeatherData("Pune")}},{key:"onChangeUnit",value:function(t){this.setState({unit:t})}},{key:"onCityChange",value:function(t){this.updateWeatherData(t),this.props.handleCityChange(this.state),U(this.state)}},{key:"render",value:function(){var t=this;return i.a.createElement("div",{className:"App"},i.a.createElement(v,{city:this.props.city,temp:this.props.temp,max:this.props.max,min:this.props.min,description:this.props.description,iconId:this.props.iconId,handleCityChange:function(e){t.onCityChange(e)},handleChangeUnit:function(e){t.onChangeUnit(e)}}))}}]),n}(a.Component),U=function(t){return{city:t.city,temp:t.temp,max:t.max,unit:t.unit,min:t.min,description:t.description,iconId:t.iconId}},x=Object(j.connect)(U,(function(t){return{handleChangeUnit:function(e){return t(function(t){return{type:"CITY_CHANGED",payload:{unit:t}}}(e))},handleCityChange:function(e){var n;t((n=e,{type:"CITY_CHANGED",payload:Object(k.a)(Object(k.a)({},n),{},{city:n.city,temp:n.temp,max:n.max,min:n.min,description:n.description,iconId:n.iconId})}))}}}))(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var w=n(50);var I=w.createStore;o.a.render(i.a.createElement(j.Provider,{store:Object(w.createStore)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{city:"Pune"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"CITY_CHANGED":return console.log("CITY CHANGED"),e.payload;case"UNIT_CHANGED":return Object(k.a)(Object(k.a)({},t),{},{unit:e.unit});default:return t}}))},i.a.createElement(x,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[143,1,2]]]);
//# sourceMappingURL=main.6ebc8182.chunk.js.map